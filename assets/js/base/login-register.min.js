!function(e){var r=function(e,r){var a=e.find(".wp-form-login"),n=e.find(".wp-form-register"),i=e.data("settings"),s=e.find(".visibility-password"),t=e.data("id"),d=r("#g-recaptcha-"+t),o=r("#g-recaptcha-register-"+t),l="boostify-error",m="div",p="error-text",c=(a.find("input[name=username]"),a.find("input[name=password]")),_=a.find("input[name=redirect_for_logined]").val(),f=(a.find("input[name=redirect_url]").val(),n.find("input[name=username_register]"),n.find("input[name=email_register]"),n.find("input[name=first_name_register]"),n.find("input[name=last_name_register]"),n.find("input[name=password_register]"),n.find("input[name=confirm_pass_register]"),n.find("input[name=website_register]"),n.find("input[name=register_redirect_url]"),n.find(".field-terms-conditions"),e.find("input[name=g-recaptcha]").val()),u=(n.find("input[name=register_action]").val(),n.find("input[name=admin_email_subject]").val(),n.find("input[name=admin_email_message]").val(),n.find("input[name=admin_email_content_type]").val(),n.find("input[name=email_subject]").val(),n.find("input[name=email_message]").val(),n.find("input[name=email_content_type]").val(),e.find(".field-link a")),g=e.find(".popup-overlay");function v(e,r,a=""){var n=e.parent().find("."+l);n.length>0?n.html('<span class="'+p+'">'+r+"</span>"):e.after("<"+m+' class="'+l+" "+a+'"><span class="'+p+'">'+r+"</span></div>"),e.parent().addClass("error")}_&&(window.location.href=_),u.on("click",function(e){"#"==r(this).attr("href")&&(e.preventDefault(),r(this).parents("form").siblings(".form-popup").addClass("show"))}),g.on("click",function(e){r(this).parents(".form-popup").removeClass("show")}),void 0!==grecaptcha&&d.length>0&&grecaptcha.ready(function(){var e=document.getElementById("g-recaptcha-"+t);grecaptcha.render(e,{sitekey:f,theme:i.login_rc_theme,size:i.login_rc_size})}),void 0!==grecaptcha&&o.length>0&&grecaptcha.ready(function(){var e=document.getElementById("g-recaptcha-register-"+t);grecaptcha.render(e,{sitekey:f,theme:i.register_rc_theme,size:i.register_rc_size})}),s.on("click",function(e){e.preventDefault();var a=r(this).siblings("input");"password"==a.attr("type")?(r(this).find("span").addClass("dashicons-hidden").removeClass("dashicons-visibility"),a.attr("type","text")):(r(this).find("span").addClass("dashicons-visibility").removeClass("dashicons-hidden"),a.attr("type","password"))}),a.on("submit",function(a){a.preventDefault();var n=r(this),s=n.find("input[name=username]"),t=n.find("input[name=password]"),o=(n.find("input[name=redirect_for_logined]").val(),n.find("input[name=redirect_url]").val()),c=s.val(),_=t.val(),f=e.find("input[name=rememberme]").is(":checked");if((""==c&&s.parents(".field-control").addClass("error"),""==_&&t.parents(".field-control").addClass("error"),void 0!==grecaptcha&&d.length>0)&&!grecaptcha.getResponse())return void v(d,i.err_recaptcha,"error-recaptcha");var u={action:"boostify_wp_login",token:admin.nonce,user:c,pass:_,remember:f};r.ajax({type:"POST",url:admin.url,data:u,beforeSend:function(e){n.find(".btn-submit").prop("disabled",!0),n.parents(".boostify-form").addClass("loading")},success:function(e){if(n.find(".btn-submit").prop("disabled",!1),n.parents(".boostify-form").removeClass("loading"),e.success)o?window.location.href=o:location.reload();else{var r=e.data;if(r.invalid_username)""==i.err_username&&(i.err_username=r.invalid_username),v(s,i.err_username,"error-username"),s.parents(".field-control").addClass("error");else if(r.invalid_email)""==i.err_email&&(i.err_email=r.invalid_email),v(s,i.err_email,"error-email"),s.parents(".field-control").addClass("error");else if(r.incorrect_password||r.empty_password)""==i.err_pass&&(i.err_pass=r.incorrect_password),v(s,i.err_pass,"incorrect-password"),t.parents(".field-control").addClass("error");else{var a=n.find(".field-messages");(i.err_unknown="")&&(i.err_unknown=r.error),a.html("<"+m+' class="'+l+'"><span class="'+p+'">'+i.err_unknown+"</span></div>")}}}})}),n.on("submit",function(a){a.preventDefault();var n=r(this),s=n.find("input[name=username_register]"),t=n.find("input[name=email_register]"),d=n.find("input[name=first_name_register]"),_=n.find("input[name=last_name_register]"),f=n.find("input[name=password_register]"),u=n.find("input[name=confirm_pass_register]"),g=n.find("input[name=website_register]"),h=n.find("input[name=register_redirect_url]"),b=(n.find(".field-terms-conditions"),e.find("input[name=g-recaptcha]").val(),n.find("input[name=register_action]").val()),w=n.find("input[name=admin_email_subject]").val(),y=n.find("input[name=admin_email_message]").val(),C=n.find("input[name=admin_email_content_type]").val(),k=n.find("input[name=email_subject]").val(),j=n.find("input[name=email_message]").val(),q=n.find("input[name=email_content_type]").val(),x=s.val(),z=d.val(),D=_.val(),S=f.val(),B=u.val(),E=t.val(),I=g.val(),O=(h.val(),n.find("input[name=terms_conditions]"));if(error=!1,""==x){error=!0;s.parent();v(s,admin.validate.user,"error-username"),s.parents(".field-control").addClass("error")}(""==E&&(error=!0,t.parents(".field-control").addClass("error"),v(t,admin.validate.email,"error-email")),f.parent().hasClass(".field-required")&&""==S&&(error=!0,f.parents(".field-control").addClass("error"),v(f,admin.validate.email,"error-email")),u.parent().hasClass(".field-required")&&""==B&&(error=!0,u.parents(".field-control").addClass("error"),v(u,admin.validate.email,"error-email")),B&&B!=S&&(error=!0,u.parents(".field-control").addClass("error"),v(u,i.err_conf_pass,"error-email")),O.length>0&&!O.is(":checked")&&(error=!0,v(O,i.err_tc,"error-terms")),void 0!==grecaptcha&&o.length>0)&&(grecaptcha.getResponse()||(error=!0,v(o,i.err_recaptcha,"error-recaptcha")));if(!error){var P={action:"boostify_wp_register",token:admin.nonce,email:E,username:x,role:i.register_user_role,action_reg:b};S&&(P.password=S),B&&(P.confirm_password=B),z&&(P.first_name=z),D&&(P.last_name=D),I&&(P.website=I),h.length>0&&(P.redirect_url=h.val()),w&&(P.admin_email_subject=w),y&&(P.admin_email_message=y),C&&(P.admin_email_content_type=C),k&&(P.email_subject=k),j&&(P.email_message=j),q&&(P.email_content_type=q),r.ajax({type:"POST",url:admin.url,data:P,beforeSend:function(e){n.find(".btn-submit").prop("disabled",!0),n.parents(".boostify-form").addClass("loading")},success:function(e){if(n.parents(".boostify-form").removeClass("loading"),n.find(".btn-submit").prop("disabled",!1),e.success)h.length>0?window.location.href=h.val():location.reload();else{var r=e.data,a=n.find(".field-messages");console.log(r),r.username_required?(v(s,r.username_required,"error-username"),s.parents(".field-control").addClass("error")):r.username_registered?(""==i.err_username_used&&(i.err_username_used=r.username_registered),v(s,i.err_username_used,"error-username"),s.parents(".field-control").addClass("error")):r.username?(""==i.err_username&&(i.err_username=r.username),v(s,i.err_username,"error-username"),c.parents(".field-control").addClass("error")):r.email_required?(v(t,r.email_required,"error-email"),t.parents(".field-control").addClass("error")):r.email_format?(""==i.err_email&&(i.err_email=r.email_format),v(t,i.err_email,"error-email"),t.parents(".field-control").addClass("error")):r.email?(""==i.err_email_used&&(i.err_email_used=r.email),v(t,i.err_email_used,"error-email"),t.parents(".field-control").addClass("error")):r.confirm_password?(""==i.err_conf_pass&&(i.err_conf_pass=r.confirm_password),v(u,i.err_conf_pass,"error-email"),u.parents(".field-control").addClass("error")):r.logged_in?(""==i.logged_in&&(i.logged_in=r.logged_in),a.html("<"+m+' class="'+l+'"><span class="'+p+'">'+i.logged_in+"</span></div>")):((i.err_unknown="")&&(i.err_unknown=r.user_create),a.html("<"+m+' class="'+l+'"><span class="'+p+'">'+i.err_unknown+"</span></div>"))}}})}})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/boostify-wp-login-register.default",r)})}(jQuery);